(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[623],{3813:function(t,e,r){var o;t=r.nmd(t),self,o=o=>(()=>{var n={703:(t,e,r)=>{"use strict";var o=r(414);function n(){}function i(){}i.resetWarningCache=n,t.exports=function(){function t(t,e,r,n,i,s){if(s!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:n};return r.PropTypes=r,r}},697:(t,e,r)=>{t.exports=r(703)()},414:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:t=>{"use strict";t.exports=o}},i={};function s(t){var e=i[t];if(void 0!==e)return e.exports;var r=i[t]={exports:{}};return n[t](r,r.exports,s),r.exports}s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var a={};return(()=>{"use strict";s.r(a),s.d(a,{CKEditor:()=>sr,CKEditorContext:()=>nr});var o=s(787),n=s.n(o),i=s(697),c=s.n(i);const u=new Array(256).fill("").map(((t,e)=>("0"+e.toString(16)).slice(-2)));class h{constructor(t){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit="number"==typeof t.crashNumberLimit?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod="number"==typeof t.minimumNonErrorTimePeriod?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const e="error"in t?t.error:t.reason;e instanceof Error&&this._handleError(e,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)}off(t,e){this._listeners[t]=this._listeners[t].filter((t=>t!==e))}_fire(t,...e){const r=this._listeners[t]||[];for(const o of r)o.apply(this,[null,...e])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,e){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:e instanceof ErrorEvent?e.filename:void 0,lineno:e instanceof ErrorEvent?e.lineno:void 0,colno:e instanceof ErrorEvent?e.colno:void 0,date:this._now()});const r=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:r}),r?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&void 0!==t.context&&null!==t.context&&"ready"===this.state&&this._isErrorComingFromThisItem(t)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function d(t,e=new Set){const r=[t],o=new Set;let n=0;for(;r.length>n;){const i=r[n++];if(!o.has(i)&&l(i)&&!e.has(i))if(o.add(i),Symbol.iterator in i)try{for(const t of i)r.push(t)}catch(t){}else for(const t in i)"defaultValue"!==t&&r.push(i[t])}return o}function l(t){const e=Object.prototype.toString.call(t),r=typeof t;return!("number"===r||"boolean"===r||"string"===r||"symbol"===r||"function"===r||"[object Date]"===e||"[object RegExp]"===e||"[object Module]"===e||null==t||t._watchdogExcluded||t instanceof EventTarget||t instanceof Event)}function f(t,e,r=new Set){if(t===e&&"object"==typeof(o=t)&&null!==o)return!0;var o;const n=d(t,r),i=d(e,r);for(const s of n)if(i.has(s))return!0;return!1}const p=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},_="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;var y="object"==typeof self&&self&&self.Object===Object&&self;const g=_||y||Function("return this")(),b=function(){return g.Date.now()};var v=/\s/,m=/^\s+/;const w=function(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&v.test(t.charAt(e)););return e}(t)+1).replace(m,""):t},j=g.Symbol;var E=Object.prototype,x=E.hasOwnProperty,O=E.toString,C=j?j.toStringTag:void 0,P=Object.prototype.toString,A=j?j.toStringTag:void 0;const S=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":A&&A in Object(t)?function(t){var e=x.call(t,C),r=t[C];try{t[C]=void 0;var o=!0}catch(t){}var n=O.call(t);return o&&(e?t[C]=r:delete t[C]),n}(t):function(t){return P.call(t)}(t)},W=function(t){return null!=t&&"object"==typeof t};var T=/^[-+]0x[0-9a-f]+$/i,I=/^0b[01]+$/i,R=/^0o[0-7]+$/i,D=parseInt;const z=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||W(t)&&"[object Symbol]"==S(t)}(t))return NaN;if(p(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=p(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=w(t);var r=I.test(t);return r||R.test(t)?D(t.slice(2),r?2:8):T.test(t)?NaN:+t};var M=Math.max,N=Math.min;const U=function(t,e,r){var o=!0,n=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return p(r)&&(o="leading"in r?!!r.leading:o,n="trailing"in r?!!r.trailing:n),function(t,e,r){var o,n,i,s,a,c,u=0,h=!1,d=!1,l=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function f(e){var r=o,i=n;return o=n=void 0,u=e,s=t.apply(i,r)}function _(t){var r=t-c;return void 0===c||r>=e||r<0||d&&t-u>=i}function y(){var t=b();if(_(t))return g(t);a=setTimeout(y,function(t){var r=e-(t-c);return d?N(r,i-(t-u)):r}(t))}function g(t){return a=void 0,l&&o?f(t):(o=n=void 0,s)}function v(){var t=b(),r=_(t);if(o=arguments,n=this,c=t,r){if(void 0===a)return function(t){return u=t,a=setTimeout(y,e),h?f(t):s}(c);if(d)return clearTimeout(a),a=setTimeout(y,e),f(c)}return void 0===a&&(a=setTimeout(y,e)),s}return e=z(e)||0,p(r)&&(h=!!r.leading,i=(d="maxWait"in r)?M(z(r.maxWait)||0,e):i,l="trailing"in r?!!r.trailing:l),v.cancel=function(){void 0!==a&&clearTimeout(a),u=0,o=c=n=a=void 0},v.flush=function(){return void 0===a?s:g(b())},v}(t,e,{leading:o,maxWait:e,trailing:n})},F=function(t,e){return t===e||t!=t&&e!=e},k=function(t,e){for(var r=t.length;r--;)if(F(t[r][0],e))return r;return-1};var q=Array.prototype.splice;function L(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}L.prototype.clear=function(){this.__data__=[],this.size=0},L.prototype.delete=function(t){var e=this.__data__,r=k(e,t);return!(r<0)&&(r==e.length-1?e.pop():q.call(e,r,1),--this.size,!0)},L.prototype.get=function(t){var e=this.__data__,r=k(e,t);return r<0?void 0:e[r][1]},L.prototype.has=function(t){return k(this.__data__,t)>-1},L.prototype.set=function(t,e){var r=this.__data__,o=k(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this};const $=L,B=function(t){if(!p(t))return!1;var e=S(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},H=g["__core-js_shared__"];var V=function(){var t=/[^.]+$/.exec(H&&H.keys&&H.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Q=Function.prototype.toString;const K=function(t){if(null!=t){try{return Q.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var G=/^\[object .+?Constructor\]$/,Y=Function.prototype,Z=Object.prototype,J=Y.toString,X=Z.hasOwnProperty,tt=RegExp("^"+J.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const et=function(t){return!(!p(t)||function(t){return!!V&&V in t}(t))&&(B(t)?tt:G).test(K(t))},rt=function(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return et(r)?r:void 0},ot=rt(g,"Map"),nt=rt(Object,"create");var it=Object.prototype.hasOwnProperty,st=Object.prototype.hasOwnProperty;function at(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}at.prototype.clear=function(){this.__data__=nt?nt(null):{},this.size=0},at.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},at.prototype.get=function(t){var e=this.__data__;if(nt){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return it.call(e,t)?e[t]:void 0},at.prototype.has=function(t){var e=this.__data__;return nt?void 0!==e[t]:st.call(e,t)},at.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=nt&&void 0===e?"__lodash_hash_undefined__":e,this};const ct=at,ut=function(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map};function ht(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}ht.prototype.clear=function(){this.size=0,this.__data__={hash:new ct,map:new(ot||$),string:new ct}},ht.prototype.delete=function(t){var e=ut(this,t).delete(t);return this.size-=e?1:0,e},ht.prototype.get=function(t){return ut(this,t).get(t)},ht.prototype.has=function(t){return ut(this,t).has(t)},ht.prototype.set=function(t,e){var r=ut(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this};const dt=ht;function lt(t){var e=this.__data__=new $(t);this.size=e.size}lt.prototype.clear=function(){this.__data__=new $,this.size=0},lt.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},lt.prototype.get=function(t){return this.__data__.get(t)},lt.prototype.has=function(t){return this.__data__.has(t)},lt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof $){var o=r.__data__;if(!ot||o.length<199)return o.push([t,e]),this.size=++r.size,this;r=this.__data__=new dt(o)}return r.set(t,e),this.size=r.size,this};const ft=lt,pt=function(){try{var t=rt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),_t=function(t,e,r){"__proto__"==e&&pt?pt(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r};var yt=Object.prototype.hasOwnProperty;const gt=function(t,e,r){var o=t[e];yt.call(t,e)&&F(o,r)&&(void 0!==r||e in t)||_t(t,e,r)},bt=function(t,e,r,o){var n=!r;r||(r={});for(var i=-1,s=e.length;++i<s;){var a=e[i],c=o?o(r[a],t[a],a,r,t):void 0;void 0===c&&(c=t[a]),n?_t(r,a,c):gt(r,a,c)}return r},vt=function(t){return W(t)&&"[object Arguments]"==S(t)};var mt=Object.prototype,wt=mt.hasOwnProperty,jt=mt.propertyIsEnumerable;const Et=vt(function(){return arguments}())?vt:function(t){return W(t)&&wt.call(t,"callee")&&!jt.call(t,"callee")},xt=Array.isArray;var Ot=e&&!e.nodeType&&e,Ct=Ot&&t&&!t.nodeType&&t,Pt=Ct&&Ct.exports===Ot?g.Buffer:void 0;const At=(Pt?Pt.isBuffer:void 0)||function(){return!1};var St=/^(?:0|[1-9]\d*)$/;const Wt=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&St.test(t))&&t>-1&&t%1==0&&t<e},Tt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var It={};It["[object Float32Array]"]=It["[object Float64Array]"]=It["[object Int8Array]"]=It["[object Int16Array]"]=It["[object Int32Array]"]=It["[object Uint8Array]"]=It["[object Uint8ClampedArray]"]=It["[object Uint16Array]"]=It["[object Uint32Array]"]=!0,It["[object Arguments]"]=It["[object Array]"]=It["[object ArrayBuffer]"]=It["[object Boolean]"]=It["[object DataView]"]=It["[object Date]"]=It["[object Error]"]=It["[object Function]"]=It["[object Map]"]=It["[object Number]"]=It["[object Object]"]=It["[object RegExp]"]=It["[object Set]"]=It["[object String]"]=It["[object WeakMap]"]=!1;const Rt=function(t){return function(e){return t(e)}};var Dt=e&&!e.nodeType&&e,zt=Dt&&t&&!t.nodeType&&t,Mt=zt&&zt.exports===Dt&&_.process;const Nt=function(){try{return zt&&zt.require&&zt.require("util").types||Mt&&Mt.binding&&Mt.binding("util")}catch(o){}}();var Ut=Nt&&Nt.isTypedArray;const Ft=Ut?Rt(Ut):function(t){return W(t)&&Tt(t.length)&&!!It[S(t)]};var kt=Object.prototype.hasOwnProperty;const qt=function(t,e){var r=xt(t),o=!r&&Et(t),n=!r&&!o&&At(t),i=!r&&!o&&!n&&Ft(t),s=r||o||n||i,a=s?function(t,e){for(var r=-1,o=Array(t);++r<t;)o[r]=e(r);return o}(t.length,String):[],c=a.length;for(var u in t)!e&&!kt.call(t,u)||s&&("length"==u||n&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Wt(u,c))||a.push(u);return a};var Lt=Object.prototype;const $t=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Lt)},Bt=function(t,e){return function(r){return t(e(r))}},Ht=Bt(Object.keys,Object);var Vt=Object.prototype.hasOwnProperty;const Qt=function(t){return null!=t&&Tt(t.length)&&!B(t)},Kt=function(t){return Qt(t)?qt(t):function(t){if(!$t(t))return Ht(t);var e=[];for(var r in Object(t))Vt.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)};var Gt=Object.prototype.hasOwnProperty;const Yt=function(t){if(!p(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=$t(t),r=[];for(var o in t)("constructor"!=o||!e&&Gt.call(t,o))&&r.push(o);return r},Zt=function(t){return Qt(t)?qt(t,!0):Yt(t)};var Jt=e&&!e.nodeType&&e,Xt=Jt&&t&&!t.nodeType&&t,te=Xt&&Xt.exports===Jt?g.Buffer:void 0,ee=te?te.allocUnsafe:void 0;const re=function(){return[]};var oe=Object.prototype.propertyIsEnumerable,ne=Object.getOwnPropertySymbols;const ie=ne?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,o=null==t?0:t.length,n=0,i=[];++r<o;){var s=t[r];e(s,r,t)&&(i[n++]=s)}return i}(ne(t),(function(e){return oe.call(t,e)})))}:re,se=function(t,e){for(var r=-1,o=e.length,n=t.length;++r<o;)t[n+r]=e[r];return t},ae=Bt(Object.getPrototypeOf,Object),ce=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)se(e,ie(t)),t=ae(t);return e}:re,ue=function(t,e,r){var o=e(t);return xt(t)?o:se(o,r(t))},he=function(t){return ue(t,Kt,ie)},de=function(t){return ue(t,Zt,ce)},le=rt(g,"DataView"),fe=rt(g,"Promise"),pe=rt(g,"Set"),_e=rt(g,"WeakMap");var ye="[object Map]",ge="[object Promise]",be="[object Set]",ve="[object WeakMap]",me="[object DataView]",we=K(le),je=K(ot),Ee=K(fe),xe=K(pe),Oe=K(_e),Ce=S;(le&&Ce(new le(new ArrayBuffer(1)))!=me||ot&&Ce(new ot)!=ye||fe&&Ce(fe.resolve())!=ge||pe&&Ce(new pe)!=be||_e&&Ce(new _e)!=ve)&&(Ce=function(t){var e=S(t),r="[object Object]"==e?t.constructor:void 0,o=r?K(r):"";if(o)switch(o){case we:return me;case je:return ye;case Ee:return ge;case xe:return be;case Oe:return ve}return e});const Pe=Ce;var Ae=Object.prototype.hasOwnProperty;const Se=g.Uint8Array,We=function(t){var e=new t.constructor(t.byteLength);return new Se(e).set(new Se(t)),e};var Te=/\w*$/,Ie=j?j.prototype:void 0,Re=Ie?Ie.valueOf:void 0;const De=function(t,e,r){var o=t.constructor;switch(e){case"[object ArrayBuffer]":return We(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return function(t,e){var r=e?We(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var r=e?We(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,r);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,Te.exec(t));return e.lastIndex=t.lastIndex,e}(t);case"[object Symbol]":return function(t){return Re?Object(Re.call(t)):{}}(t)}};var ze=Object.create;const Me=function(){function t(){}return function(e){if(!p(e))return{};if(ze)return ze(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();var Ne=Nt&&Nt.isMap;const Ue=Ne?Rt(Ne):function(t){return W(t)&&"[object Map]"==Pe(t)};var Fe=Nt&&Nt.isSet;const ke=Fe?Rt(Fe):function(t){return W(t)&&"[object Set]"==Pe(t)};var qe="[object Arguments]",Le="[object Function]",$e="[object Object]",Be={};Be[qe]=Be["[object Array]"]=Be["[object ArrayBuffer]"]=Be["[object DataView]"]=Be["[object Boolean]"]=Be["[object Date]"]=Be["[object Float32Array]"]=Be["[object Float64Array]"]=Be["[object Int8Array]"]=Be["[object Int16Array]"]=Be["[object Int32Array]"]=Be["[object Map]"]=Be["[object Number]"]=Be[$e]=Be["[object RegExp]"]=Be["[object Set]"]=Be["[object String]"]=Be["[object Symbol]"]=Be["[object Uint8Array]"]=Be["[object Uint8ClampedArray]"]=Be["[object Uint16Array]"]=Be["[object Uint32Array]"]=!0,Be["[object Error]"]=Be[Le]=Be["[object WeakMap]"]=!1;const He=function t(e,r,o,n,i,s){var a,c=1&r,u=2&r,h=4&r;if(o&&(a=i?o(e,n,i,s):o(e)),void 0!==a)return a;if(!p(e))return e;var d=xt(e);if(d){if(a=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Ae.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(e),!c)return function(t,e){var r=-1,o=t.length;for(e||(e=Array(o));++r<o;)e[r]=t[r];return e}(e,a)}else{var l=Pe(e),f=l==Le||"[object GeneratorFunction]"==l;if(At(e))return function(t,e){if(e)return t.slice();var r=t.length,o=ee?ee(r):new t.constructor(r);return t.copy(o),o}(e,c);if(l==$e||l==qe||f&&!i){if(a=u||f?{}:function(t){return"function"!=typeof t.constructor||$t(t)?{}:Me(ae(t))}(e),!c)return u?function(t,e){return bt(t,ce(t),e)}(e,function(t,e){return t&&bt(e,Zt(e),t)}(a,e)):function(t,e){return bt(t,ie(t),e)}(e,function(t,e){return t&&bt(e,Kt(e),t)}(a,e))}else{if(!Be[l])return i?e:{};a=De(e,l,c)}}s||(s=new ft);var _=s.get(e);if(_)return _;s.set(e,a),ke(e)?e.forEach((function(n){a.add(t(n,r,o,n,e,s))})):Ue(e)&&e.forEach((function(n,i){a.set(i,t(n,r,o,i,e,s))}));var y=d?void 0:(h?u?de:he:u?Zt:Kt)(e);return function(t,e){for(var r=-1,o=null==t?0:t.length;++r<o&&!1!==e(t[r],r,t););}(y||e,(function(n,i){y&&(n=e[i=n]),gt(a,i,t(n,r,o,i,e,s))})),a};var Ve=Function.prototype,Qe=Object.prototype,Ke=Ve.toString,Ge=Qe.hasOwnProperty,Ye=Ke.call(Object);const Ze=function(t){return W(t)&&1===t.nodeType&&!function(t){if(!W(t)||"[object Object]"!=S(t))return!1;var e=ae(t);if(null===e)return!0;var r=Ge.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Ke.call(r)==Ye}(t)};class Je extends h{constructor(t,e={}){super(e),this._editor=null,this._throttledSave=U(this._save.bind(this),"number"==typeof e.saveInterval?e.saveInterval:5e3),t&&(this._creator=(e,r)=>t.create(e,r)),this._destructor=t=>t.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}_restart(){return Promise.resolve().then((()=>(this.state="initializing",this._fire("stateChange"),this._destroy()))).catch((t=>{console.error("An error happened during the editor destroying.",t)})).then((()=>{if("string"==typeof this._elementOrData)return this.create(this._data,this._config,this._config.context);{const t=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,t,t.context)}})).then((()=>{this._fire("restart")}))}create(t=this._elementOrData,e=this._config,r){return Promise.resolve().then((()=>(super._startErrorHandling(),this._elementOrData=t,this._config=this._cloneEditorConfiguration(e)||{},this._config.context=r,this._creator(t,this._config)))).then((t=>{this._editor=t,t.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=t.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")}))}destroy(){return Promise.resolve().then((()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())))}_destroy(){return Promise.resolve().then((()=>{this._stopErrorHandling(),this._throttledSave.flush();const t=this._editor;return this._editor=null,t.model.document.off("change:data",this._throttledSave),this._destructor(t)}))}_save(){const t=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=t}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){const t={};for(const e of this._editor.model.document.getRootNames())t[e]=this._editor.data.get({rootName:e});return t}_isErrorComingFromThisItem(t){return f(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return function(t,e){return He(t,5,e="function"==typeof e?e:void 0)}(t,((t,e)=>Ze(t)||"context"===e?t:void 0))}}const Xe=Symbol("MainQueueId");class tr extends h{constructor(t,e={}){super(e),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new er,this._watchdogConfig=e,this._creator=e=>t.create(e),this._destructor=t=>t.destroy(),this._actionQueues.onEmpty((()=>{"initializing"===this.state&&(this.state="ready",this._fire("stateChange"))}))}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}get context(){return this._context}create(t={}){return this._actionQueues.enqueue(Xe,(()=>(this._contextConfig=t,this._create())))}getItem(t){return this._getWatchdog(t)._item}getItemState(t){return this._getWatchdog(t).state}add(t){const e=rr(t);return Promise.all(e.map((t=>this._actionQueues.enqueue(t.id,(()=>{if("destroyed"===this.state)throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let e;if(this._watchdogs.has(t.id))throw new Error(`Item with the given id is already added: '${t.id}'.`);if("editor"===t.type)return e=new Je(null,this._watchdogConfig),e.setCreator(t.creator),e._setExcludedProperties(this._contextProps),t.destructor&&e.setDestructor(t.destructor),this._watchdogs.set(t.id,e),e.on("error",((r,{error:o,causesRestart:n})=>{this._fire("itemError",{itemId:t.id,error:o}),n&&this._actionQueues.enqueue(t.id,(()=>new Promise((r=>{const o=()=>{e.off("restart",o),this._fire("itemRestart",{itemId:t.id}),r()};e.on("restart",o)}))))})),e.create(t.sourceElementOrData,t.config,this._context);throw new Error(`Not supported item type: '${t.type}'.`)})))))}remove(t){const e=rr(t);return Promise.all(e.map((t=>this._actionQueues.enqueue(t,(()=>{const e=this._getWatchdog(t);return this._watchdogs.delete(t),e.destroy()})))))}destroy(){return this._actionQueues.enqueue(Xe,(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())))}_restart(){return this._actionQueues.enqueue(Xe,(()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch((t=>{console.error("An error happened during destroying the context or items.",t)})).then((()=>this._create())).then((()=>this._fire("restart"))))))}_create(){return Promise.resolve().then((()=>(this._startErrorHandling(),this._creator(this._contextConfig)))).then((t=>(this._context=t,this._contextProps=d(this._context),Promise.all(Array.from(this._watchdogs.values()).map((t=>(t._setExcludedProperties(this._contextProps),t.create(void 0,void 0,this._context))))))))}_destroy(){return Promise.resolve().then((()=>{this._stopErrorHandling();const t=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map((t=>t.destroy()))).then((()=>this._destructor(t)))}))}_getWatchdog(t){const e=this._watchdogs.get(t);if(!e)throw new Error(`Item with the given id was not registered: ${t}.`);return e}_isErrorComingFromThisItem(t){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(t))return!1;return f(this._context,t.context)}}class er{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(t){this._onEmptyCallbacks.push(t)}enqueue(t,e){const r=t===Xe;this._activeActions++,this._queues.get(t)||this._queues.set(t,Promise.resolve());const o=(r?Promise.all(this._queues.values()):Promise.all([this._queues.get(Xe),this._queues.get(t)])).then(e),n=o.catch((()=>{}));return this._queues.set(t,n),o.finally((()=>{this._activeActions--,this._queues.get(t)===n&&0===this._activeActions&&this._onEmptyCallbacks.forEach((t=>t()))}))}}function rr(t){return Array.isArray(t)?t:[t]}const or=n().createContext("contextWatchdog");class nr extends n().Component{constructor(t,e){super(t,e),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(t){return this._shouldComponentUpdate(t)}async _shouldComponentUpdate(t){return t.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(t.config)),t.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(t.config),!0):this.props.children!==t.children}render(){return n().createElement(or.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(t){this.contextWatchdog=new tr(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",((t,e)=>{this.props.onError(e.error,{phase:"runtime",willContextRestart:e.causesRestart})})),this.contextWatchdog.on("stateChange",(()=>{"ready"===this.contextWatchdog.state&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)})),await this.contextWatchdog.create(t).catch((t=>{this.props.onError(t,{phase:"initialization",willContextRestart:!1})}))}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}nr.defaultProps={isLayoutReady:!0,onError:(t,e)=>console.error(t,e)},nr.propTypes={id:c().string,isLayoutReady:c().bool,context:c().func,watchdogConfig:c().object,config:c().object,onReady:c().func,onError:c().func};const ir="Lock from React integration (@ckeditor/ckeditor5-react)";class sr extends n().Component{constructor(t){super(t),this.editorDestructionInProgress=null,this.domContainer=n().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:e}=window;if(e){const[t]=e.split(".").map(Number);t<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(t){return!!this.editor&&(t.id!==this.props.id||t.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(t)&&this.editor.data.set(t.data),"disabled"in t&&(t.disabled?this.editor.enableReadOnlyMode(ir):this.editor.disableReadOnlyMode(ir)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return n().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof tr?this.watchdog=new ar(this.context):this.watchdog=new sr._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator(((t,e)=>this._createEditor(t,e))),this.watchdog.on("error",((t,{error:e,causesRestart:r})=>{(this.props.onError||console.error)(e,{phase:"runtime",willEditorRestart:r})})),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch((t=>{(this.props.onError||console.error)(t,{phase:"initialization",willEditorRestart:!1})})))}_createEditor(t,e){return this.props.editor.create(t,e).then((t=>{"disabled"in this.props&&this.props.disabled&&t.enableReadOnlyMode(ir);const e=t.model.document,r=t.editing.view.document;return e.on("change:data",(e=>{this.props.onChange&&this.props.onChange(e,t)})),r.on("focus",(e=>{this.props.onFocus&&this.props.onFocus(e,t)})),r.on("blur",(e=>{this.props.onBlur&&this.props.onBlur(e,t)})),setTimeout((()=>{this.props.onReady&&this.props.onReady(t)})),t}))}async _destroyEditor(){this.editorDestructionInProgress=new Promise((t=>{setTimeout((async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,t()):this.instance?(await this.instance.destroy(),this.instance=null,t()):void t()))}))}_shouldUpdateEditor(t){return this.props.data!==t.data&&this.editor.data.get()!==t.data}_getConfig(){const t=this.props.config||{};return this.props.data&&t.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` properties. The config property is over the data value and the first one will be used when specified both."),{...t,initialData:t.initialData||this.props.data||""}}}sr.contextType=or,sr.propTypes={editor:c().func.isRequired,data:c().string,config:c().object,disableWatchdog:c().bool,watchdogConfig:c().object,onChange:c().func,onReady:c().func,onFocus:c().func,onBlur:c().func,onError:c().func,disabled:c().bool,id:c().any},sr._EditorWatchdog=Je;class ar{constructor(t){this._contextWatchdog=t,this._id=function(){const t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0,o=4294967296*Math.random()>>>0;return"e"+u[t>>0&255]+u[t>>8&255]+u[t>>16&255]+u[t>>24&255]+u[e>>0&255]+u[e>>8&255]+u[e>>16&255]+u[e>>24&255]+u[r>>0&255]+u[r>>8&255]+u[r>>16&255]+u[r>>24&255]+u[o>>0&255]+u[o>>8&255]+u[o>>16&255]+u[o>>24&255]}()}setCreator(t){this._creator=t}create(t,e){return this._contextWatchdog.add({sourceElementOrData:t,config:e,creator:this._creator,id:this._id,type:"editor"})}on(t,e){this._contextWatchdog.on("itemError",((t,{itemId:r,error:o})=>{r===this._id&&e(null,{error:o,causesRestart:void 0})}))}destroy(){return"ready"===this._contextWatchdog.state?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}})(),a})(),t.exports=o(r(7294))},9008:function(t,e,r){t.exports=r(5443)},2670:function(t,e,r){"use strict";function o(t,e){return null!=e&&"undefined"!==typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}r.d(e,{Z:function(){return o}})},797:function(t,e,r){"use strict";function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function n(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"===typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(e,{Z:function(){return n}})}}]);